#+TITLE: user-init.org
#+STARTUP: overview

* Config
** notmuch
   #+BEGIN_SRC emacs-lisp
     (spacemacs|use-package-add-hook notmuch
       :post-init
       (set-variable 'notmuch-archive-tags '("+doarchive" "-inbox" "-unread"))
       (set-variable 'notmuch-column-control 1.0)
       (set-variable 'notmuch-hello-thousands-separator ",")
       (set-variable 'notmuch-search-oldest-first nil)
       (set-variable 'notmuch-show-empty-saved-searches t)
       (set-variable 'notmuch-show-logo nil)
       ;(set-variable 'notmuch-hello-hide-tags
       ;              '("encrypted" "drafts" "flagged" "inbox" "sent" "signed" "spam" "unread"))

       (set-variable 'message-send-mail-function 'message-send-mail-with-sendmail)
       (set-variable 'sendmail-program (executable-find "msmtp"))
       (set-variable 'message-sendmail-envelope-from 'header)
       (set-variable 'mail-envelope-from 'header)
       (set-variable 'mail-specify-envelope-from t)
       (set-variable 'message-sendmail-f-is-evil t)
       (set-variable 'message-kill-buffer-on-exit t)
       (set-variable 'notmuch-always-prompt-for-sender t)
       (set-variable 'notmuch-crypto-process-mime t)
       ;(set-variable 'notmuch-hello-sections '(notmuch-hello-insert-saved-searches))
       ;(set-variable 'notmuch-labeler-hide-known-labels t)
       (set-variable 'notmuch-message-headers '("To" "Cc" "Subject" "Bcc"))

       (set-variable 'notmuch-saved-searches
                     '((:name "inbox" :query "tag:inbox" :key "i")
                       (:name "unread" :query "tag:unread" :key "u")
                       (:name "flagged" :query "tag:flagged" :key "f")
                       (:name "sent" :query "tag:sent" :key "t")
                       (:name "draft" :query "tag:draft" :key "d")
                       (:name "all" :query "*" :key "a")
                       (:name "spam" :query "tag:spam" :key "s")))
     )
   #+END_SRC
